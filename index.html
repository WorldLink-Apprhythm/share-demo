<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4DLink埋め込みデモ</title>
</head>
<style>
    .container {
        display: flex;
    }

    .item {
        height: 500px;
        width: 800px;
        margin: 0 auto;
        margin-bottom: 50px;
    }
</style>
<body>
    <h1 style="text-align: center;">4DLink埋め込みデモ</h1>
    <!-- DOMで構築するタグイメージ -->
    <!-- 
        <div class="container">
            <div layout class="item">
                <iframe id='embeded-tag' src='' height='100%' width='100%' style='border: none;'></iframe>
            </div>
            <div id='embeded-mergin' style="display: none;"></div>
            <div layout class="item">
                <iframe id='embeded-tag' src='' height='100%' width='100%' style='border: none;'></iframe>
            </div>
        </div>

        <div class="container">
            <div layout class="item">
                <iframe id='embeded-tag' src='' height='100%' width='100%' style='border: none;'></iframe>
            </div>
            <div id='embeded-mergin' style="display: none;"></div>
            <div layout class="item">
                <iframe id='embeded-tag' src='' height='100%' width='100%' style='border: none;'></iframe>
            </div>
        </div>
    -->
    </div>
    <script>

        window.onload = () => {
            const layoutBox = document.getElementById('layout-box');
            
            const url = new URL(location.href)
            const params = new URLSearchParams(url.search);
            const shareCodes = []
            const items = []
            for (const [_key, value] of params.entries()) {
                shareCodes.push(value)
            }
            for (let i = 0; i < shareCodes.length - 1; i += 2) {
                const iframeSrc = `https://app.4dlink.com/auth/share/${shareCodes[i]}/${shareCodes[i + 1]}`;
                const itemElement = document.createElement('div');
                itemElement.classList.add('item')
                const iframeElement = document.createElement('iframe');
                iframeElement.src = iframeSrc;
                iframeElement.width = '100%';
                iframeElement.height = '100%';
                iframeElement.style.border = 'none';
                itemElement.appendChild(iframeElement)
                items.push(itemElement)
            }
            for (let i = 0; i < items.length - 1; i += 2) {
                const containerElement = document.createElement('div');
                const marginElement = document.createElement('div');
                marginElement.style = "display: block; height: 20px; width: 20px;";
                containerElement.classList.add('container');
                containerElement.appendChild(items[i]);
                containerElement.appendChild(marginElement);
                containerElement.appendChild(items[i + 1]);
                document.body.appendChild(containerElement)
            }
        }

    </script>
</body>
</html>